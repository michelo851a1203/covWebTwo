(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Report"],{"08a3":function(e,t,r){var a=r("24fb");t=a(!1),t.push([e.i,".reportContent[data-v-4798a05f]{min-height:30vh;width:100%}@media only screen and (min-width:640px){.reportContent[data-v-4798a05f]{width:50%}}@media only screen and (min-width:1400px){.reportContent[data-v-4798a05f]{width:40%}}@keyframes Loading-4798a05f{0%{stroke-dashoffset:0}75%{stroke-dashoffset:250}to{stroke-dashoffset:314}}@keyframes rotate-4798a05f{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.boardloading[data-v-4798a05f]{-webkit-animation:rotate-4798a05f .6s linear infinite;animation:rotate-4798a05f .6s linear infinite}.boardloading circle[data-v-4798a05f]{-webkit-animation:Loading-4798a05f 2.4s linear infinite;animation:Loading-4798a05f 2.4s linear infinite}",""]),e.exports=t},4641:function(e,t,r){var a=r("24fb");t=a(!1),t.push([e.i,"",""]),e.exports=t},8465:function(e,t,r){"use strict";r.r(t);var a=r("7a23"),n=Object(a["R"])("data-v-4798a05f");Object(a["x"])("data-v-4798a05f");var i={class:"reportContent py-12 sm:mt-12 sm:shadow-2xl sm:rounded mx-auto sm:bg-white"},s=Object(a["i"])("div",{class:"flex items-center px-6 py-4"},[Object(a["i"])("div",null,[Object(a["i"])("svg",{class:"boardloading stroke-current text-green-600",width:"100",viewBox:"0 0 100 100"},[Object(a["i"])("circle",{cx:"50",cy:"50",r:"25","stroke-dasharray":"157","stroke-dashoffset":"0","stroke-linecap":"round","stroke-width":"10",fill:"transparent"})])]),Object(a["i"])("div",{class:"ml-10"},"loading...")],-1);Object(a["v"])();var c=n((function(e,t,r,c,o,u){return Object(a["u"])(),Object(a["f"])("div",i,[(Object(a["u"])(),Object(a["f"])(a["b"],null,{default:n((function(){return[(Object(a["u"])(),Object(a["f"])(Object(a["C"])(e.showTypeRef)))]})),fallback:n((function(){return[s]})),_:1}))])})),o=r("5530"),u=r("b0af"),l=r("11d3"),d=(r("b64b"),r("d3b7"),r("ddb0"),Object(a["R"])("data-v-fd17bf06"));Object(a["x"])("data-v-fd17bf06");var f={class:"flex flex-col sm:flex-row items-center sm:justify-around"},b={class:"order-2 sm:order-1 my-10 sm:py-2"},p={class:"text-sm"},m={class:"text-left px-3 py-1"},v={class:"text-left text-blue-400 px-3 py-1"},g={class:"order-1 sm:order-2"},h={key:0,class:"text-center"},j=Object(a["i"])("label",{for:""},"VC test report will be sent to",-1),O={class:"text-blue-400"},y={key:1,class:"w-full mt-10 mb-2 flex justify-around"};Object(a["v"])();var x=d((function(e,t,r,n,i,s){var c=Object(a["B"])("genqrcode");return Object(a["u"])(),Object(a["f"])("div",null,[Object(a["i"])("section",f,[Object(a["i"])("div",b,[Object(a["i"])("table",p,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(Object.keys(e.report.credential.values),(function(t){return Object(a["u"])(),Object(a["f"])("tr",{key:t},[Object(a["i"])("th",m,Object(a["E"])(t),1),Object(a["i"])("td",v,Object(a["E"])(e.report.credential.values[t]),1)])})),128))])]),Object(a["i"])("div",g,[""!==e.report._id?Object(a["i"])(c,{key:0,qrStr:e.report._id,width:"200",height:"200"},null,8,["qrStr"]):Object(a["g"])("",!0)])]),3===n.reportRole?(Object(a["u"])(),Object(a["f"])("section",h,[j,Object(a["i"])("label",O,Object(a["E"])(e.report.displayName),1)])):Object(a["g"])("",!0),3===n.reportRole?(Object(a["u"])(),Object(a["f"])("section",y,[Object(a["i"])("button",{onClick:t[1]||(t[1]=function(){return n.backtoRecord.apply(n,arguments)}),class:"w-1/3 bg-gray-700 focus:outline-none hover:bg-gray-900 text-white font-medium py-2 px-4 rounded"},"Back"),Object(a["i"])("button",{onClick:t[2]||(t[2]=function(){return n.sendMailFunc.apply(n,arguments)}),class:"w-1/3 bg-green-700 focus:outline-none hover:bg-green-900 text-white font-medium py-2 px-4 rounded"},"Confirm")])):Object(a["g"])("",!0)])})),w=(r("96cf"),r("1da1")),k=r("7b08"),R=r("c5a9"),T=r("a18c"),D={name:"components",components:{genqrcode:k["a"]},setup:function(){return Object(w["a"])(regeneratorRuntime.mark((function e(){var t,r,n,i,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(u["a"])(),r=Object(R["a"])(),t.regainLoginUser()||T["a"].push({name:"signIn"}),n=Object(a["z"])(-1),n.value=t.userData.role,i=Object.keys(r.report.credential.values),0===i.length&&3===n.value&&T["a"].push("/"),1!==n.value){e.next=10;break}return e.next=10,r.getUserDetail();case 10:return s=function(){T["a"].push("/")},c=function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.sendMailApi();case 2:t=e.sent,a=t.success,a&&T["a"].push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(o["a"])(Object(o["a"])({},r),{},{backtoRecord:s,reportRole:n,sendMailFunc:c}));case 13:case"end":return e.stop()}}),e)})))()}};r("89e0");D.render=x,D.__scopeId="data-v-fd17bf06";var C=D,A=r("61aa"),M={name:"report",components:{reportlist:C,scanqrcode:A["a"]},setup:function(){var e=Object(u["a"])(),t=Object(l["a"])({initial:"reportlist",role:1});return e.regainLoginUser()||T["a"].push({name:"signIn"}),Object(o["a"])({},t)}};r("9368");M.render=c,M.__scopeId="data-v-4798a05f";t["default"]=M},"89e0":function(e,t,r){"use strict";r("ba69")},9368:function(e,t,r){"use strict";r("d998")},ba69:function(e,t,r){var a=r("4641");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("e28da7e6",a,!0,{sourceMap:!1,shadowMode:!1})},c5a9:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));r("99af"),r("7db0"),r("4160"),r("caad"),r("d81d"),r("b0c0"),r("b64b"),r("d3b7"),r("2532"),r("159b"),r("ddb0"),r("96cf");var a=r("1da1"),n=r("2909"),i=r("7a23"),s=r("af53"),c=r("59cc"),o=r("5628"),u=r("2abf"),l=r("bba8"),d=r("f3ce");function f(){var e=Object(i["z"])({title:"",status:""}),t=Object(i["d"])((function(){if(0===u["a"].attributes.length)return[];var e=d["a"].doctorMainList.map((function(e){return{value:e["id"],title:e["Doctor Name"]}})),t=d["a"].detectTypeMainList.map((function(e){return{value:e["id"],title:e["Test Type"]}})),r=d["a"].directorMainList.map((function(e){return{value:e["id"],title:e["Director Name"]}})),a=[];Object.keys(d["a"].testResultDdl).forEach((function(e){var t=d["a"].testResultDdl[e].map((function(t){return{value:t.name,title:t.name,group:e}}));a=[].concat(Object(n["a"])(a),Object(n["a"])(t))}));var i=[].concat(Object(n["a"])(u["a"].attributes),["Medical Director"]),c=i.map((function(n){var i=[{title:"Test Type",option:t,tag:"TestResult"},{title:"Test Result",option:a,targetTag:"TestResult"},{title:"Referred Doctor",option:e,tag:"DoctorEmail"},{title:"Medical Director",option:r},{title:"Gender",option:[{value:"male",title:"male"},{value:"female",title:"female"}]}],c=i.map((function(e){return e.title})),o={id:s["a"].uuid(),title:n,type:"text",margin:"small"};if(c.includes(n)){o.type="ddl";var u=i.find((function(e){return e.title===n}));o.ddl=u.option,u.tag&&(o.tag=u.tag),u.targetTag&&(o.targetTag=u.targetTag)}if("Test Lab"===n){var l=localStorage.getItem("covWebItemUser");if(l){var d=s["a"].tryParseJSON(l);d&&(o.type="label",o.label=d.displayName)}}var f=["Collection Date","Report Date"];f.includes(n)&&(o.type="dateTimePicker-hour-min");var b=["Birthday"];return b.includes(n)&&(o.type="dateTimePicker",o.dateTimeFormat="/"),o})),o=[{id:s["a"].uuid(),title:"Above information is correct",type:"checkbox",margin:"medium"},{id:s["a"].uuid(),title:"Doctor Email",type:"label",label:"AAAAA",margin:"small",targetTag:"DoctorEmail"}];c=[].concat(Object(n["a"])(c),o);var l=["Test Lab","Medical Director","Referred Doctor","Doctor Email","Test Data","Sample ID","Test Type","Test Result","Collection Date","Report Date","Patient Data","Name","Birthday","Gender","Review Person Name","Review Person","Above information is correct"],f=l.map((function(e){var t=c.find((function(t){return t.title===e}));return t||{id:s["a"].uuid(),title:e,type:"title",label:e,margin:"subtitle"}}));return f})),r=Object(i["z"])({"Test Result":""}),f=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(""!==u["a"].name&&u["a"].attributes.length>0)){e.next=3;break}return console.error("no credentialData.attributes or credentialData.name"),e.abrupt("return",!1);case 3:return e.next=5,c["a"].getCredentialDetail();case 5:if(t=e.sent,t&&t.success){e.next=9;break}return console.error("getCredentialDetail error"),e.abrupt("return",!1);case 9:return r=t.data,u["a"].name=r.name,u["a"].version=r.version,u["a"].definitionId=r.definitionId,u["a"].schemaId=r.schemaId,u["a"].supportsRevocation=r.supportsRevocation,u["a"].attributes=r.attributes,e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){Object.keys(r.value).forEach((function(e){r.value[e]=""})),r.value["Test Result"]=""},p=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var a,n,i,s,l,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==u["a"].definitionId){t.next=3;break}return console.error("definitionId is empty"),t.abrupt("return",{success:!1,msg:"Not acquire definitionId"});case 3:if(r["Test Lab"]&&""!==r["Test Lab"]){t.next=5;break}return t.abrupt("return",{success:!1,msg:"Test Lab not show"});case 5:if(r["Medical Director"]&&""!==r["Medical Director"]){t.next=7;break}return t.abrupt("return",{success:!1,msg:"Pease choose Medical Director"});case 7:if(r["Referred Doctor"]&&""!==r["Referred Doctor"]){t.next=9;break}return t.abrupt("return",{success:!1,msg:"Pease choose Referred Doctor"});case 9:if(r["Test Type"]&&""!==r["Test Type"]){t.next=11;break}return t.abrupt("return",{success:!1,msg:"Pease choose Test Type"});case 11:if(r["Test Result"]&&""!==r["Test Result"]){t.next=13;break}return t.abrupt("return",{success:!1,msg:"Pease choose Test Result"});case 13:if(0!==r.length){t.next=16;break}return console.error("issueData is empty"),t.abrupt("return",{success:!1,msg:"Not fill content"});case 16:if(r["Above information is correct"]){t.next=19;break}return console.error("not accept to send"),t.abrupt("return",{success:!1,msg:"Please check <Above Information is correct>"});case 19:return e.value.title="Loading...",e.value.status="loading",a=["Test Lab","Sample ID","Test Result","Collection Date","Report Date","Name","Birthday","Gender","Review Person"],n={},a.forEach((function(e){n[e]=r[e]})),i=d["a"].doctorMainList.find((function(e){return e.id===r["Referred Doctor"]})),s=d["a"].detectTypeMainList.find((function(e){return e.id===r["Test Type"]})),n["Referred Doctor"]=i["Doctor Name"],n["Test Type"]=s["Test Type"],t.next=30,c["a"].sendCredential(r["Referred Doctor"],r["Test Type"],u["a"].definitionId,r["Medical Director"],n);case 30:if(l=t.sent,l&&l.success){t.next=34;break}return console.error("getCredentialDetail error"),t.abrupt("return",{success:!1,msg:"request fail"});case 34:return f=l.data,o["a"].displayName=f.displayName,o["a"].role=f.role,o["a"].updatedAt=f.updatedAt,o["a"].username=f.username,o["a"].wallet=f.wallet,o["a"]._id=f._id,o["a"].credential=f.credential,t.abrupt("return",{success:!0,msg:"Request failure"});case 43:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].sendMail(o["a"].credential._id);case 2:if(t=e.sent,t&&t.success){e.next=6;break}return console.error("sendMail error"),e.abrupt("return",{success:!1});case 6:return e.abrupt("return",{success:!0});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getUserCredential();case 2:if(t=e.sent,t&&t.success){e.next=6;break}return console.error("getUserDetail error"),e.abrupt("return",!1);case 6:r=t.data,o["a"].updatedAt=r.updatedAt,o["a"]._id=r._id,o["a"].credential.values=r.values,l["a"].value="genQrcode";case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){e.value.title="",e.value.status=""},h=function(t){var r=t.title,a=t.status;e.value.title=r,e.value.status=a,setTimeout((function(){e.value.title="",e.value.status=""}),1500)},j=function(){o["a"].displayName="",o["a"].role="",o["a"].updatedAt="",o["a"].username="",o["a"].wallet="",o["a"]._id="",o["a"].credential={createdAt:-1,credentialId:"",definitionId:"",schemaId:"",state:"",updatedAt:"",values:{}}};return{navTag:l["a"],currentCredStatus:e,report:o["a"],credentialData:u["a"],testCenterAttr:t,issueData:r,getCredDefinition:f,sendIssue:p,refillRecord:b,sendMailApi:m,getUserDetail:v,closeCredentialAlert:g,normalCredentialAlert:h,clearCredentialReport:j}}},d998:function(e,t,r){var a=r("08a3");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("54801a42",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=Report.434165f3.js.map