(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Scan"],{"0be5":function(e,t,a){"use strict";a.r(t);var r=a("7a23"),n=Object(r["R"])("data-v-7d175a0a");Object(r["x"])("data-v-7d175a0a");var i={class:"scanContent sm:h-screen py-12 mt-10 sm:shadow-2xl sm:rounded mx-auto sm:bg-white"},c=Object(r["i"])("div",{class:"flex items-center px-6 py-4"},[Object(r["i"])("div",null,[Object(r["i"])("svg",{class:"boardloading stroke-current text-green-600",width:"100",viewBox:"0 0 100 100"},[Object(r["i"])("circle",{cx:"50",cy:"50",r:"25","stroke-dasharray":"157","stroke-dashoffset":"0","stroke-linecap":"round","stroke-width":"10",fill:"transparent"})])]),Object(r["i"])("div",{class:"ml-10"},"loading...")],-1);Object(r["v"])();var o=n((function(e,t,a,o,d,s){return Object(r["u"])(),Object(r["f"])("div",i,[(Object(r["u"])(),Object(r["f"])(r["b"],null,{default:n((function(){return[(Object(r["u"])(),Object(r["f"])(Object(r["C"])(e.showTypeRef)))]})),fallback:n((function(){return[c]})),_:1}))])})),d=(a("c975"),a("ac1f"),a("841c"),a("5530")),s=a("61aa"),b=(a("b64b"),Object(r["R"])("data-v-27b31024"));Object(r["x"])("data-v-27b31024");var f={key:0,class:"qrcodepos"},u={key:1,class:"failinfo"},l=Object(r["i"])("div",{class:"text-center mt-10"},[Object(r["h"])(" Scan this QR code "),Object(r["i"])("br"),Object(r["h"])("to verify certificate ")],-1),p={key:1},v={class:"text-sm"},O={class:"text-left px-3 py-1"},j={class:"text-left text-blue-400 px-3 py-1"},y={key:0},m=Object(r["i"])("th",{colspan:"2",class:"text-center px-3 py-1"},"attributes",-1),h={class:"text-left px-3 py-1"},g={class:"text-left text-blue-400 px-3 py-1"},x={class:"text-center px-3 py-1",colspan:"2"};Object(r["v"])();var k=b((function(e,t,a,n,i,c){var o=Object(r["B"])("genqrcode");return Object(r["u"])(),Object(r["f"])("div",null,[""===n.verifyReturnData.verificationId&&0===n.verifyReturnData.policy.attributes.length?(Object(r["u"])(),Object(r["f"])("div",f,[""!==n.verifyQrcodeForUser?Object(r["i"])(o,{key:0,class:"qrcodeContent",qrStr:n.verifyQrcodeForUser,width:"200",height:"200"},null,8,["qrStr"]):(Object(r["u"])(),Object(r["f"])("div",u,"Qrcode generated fail")),l])):(Object(r["u"])(),Object(r["f"])("div",p,[Object(r["i"])("table",v,[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(Object.keys(n.mainVerifyResult),(function(e){return Object(r["u"])(),Object(r["f"])("tr",{key:e},[Object(r["i"])("th",O,Object(r["E"])(e),1),Object(r["i"])("td",j,Object(r["E"])(n.mainVerifyResult[e]),1)])})),128)),n.verifyReturnData.policy.attributes.length>0?(Object(r["u"])(),Object(r["f"])("tr",y,[m])):Object(r["g"])("",!0),(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(n.verifyReturnData.policy.attributes[0].attributeNames,(function(e){return Object(r["u"])(),Object(r["f"])("tr",{key:e},[Object(r["i"])("th",h,Object(r["E"])(e),1),Object(r["i"])("td",g,Object(r["E"])(n.verifyReturnData.proof[n.verifyReturnData.policy.attributes[0].policyName].attributes[e]),1)])})),128)),Object(r["i"])("tr",null,[Object(r["i"])("td",x,[Object(r["i"])("button",{onClick:t[1]||(t[1]=function(){return n.printVerify.apply(n,arguments)}),class:"bg-blue-500 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded"}," Print ")])])])]))])})),w=(a("99af"),a("4160"),a("159b"),a("96cf"),a("1da1")),I=a("7b08"),R=a("3d0d"),q=a("bba8"),Q={name:"VerifyQrcode",components:{genqrcode:I["a"]},setup:function(){return Object(w["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,c,o,d,s,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(R["a"])(),a=t.tmpInterval,n=t.verifyQrcodeForUser,i=t.genQrcodeForUser,c=t.keepGetQrcodeInfo,o=Object(r["y"])({_id:"",verificationId:"",definitionId:"",state:"",createdAt:-1,updatedAt:-1,policy:{name:"",version:"",attributes:[]},proof:{}}),q["a"].value="verifyqrcode",d=Object(r["d"])((function(){var e={};return Object.keys(o).forEach((function(t){"policy"!==t&&"proof"!==t&&(e[t]=o[t])})),e})),e.next=6,i();case 6:return s=e.sent,s.success&&(a.value=setInterval(Object(w["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(n.value);case 2:t=e.sent,!0===t.success&&t.data&&t.data.step&&2===t.data.step&&t.data.verification&&(r=t.data.verification,o._id=r._id,o.verificationId=r.verificationId,o.definitionId=r.definitionId,o.state=r.state,o.createdAt=r.createdAt,o.updatedAt=r.updatedAt,o.policy=r.policy,o.proof=r.proof,clearInterval(a.value),a.value=null);case 4:case"end":return e.stop()}}),e)}))),800)),b=function(){if(o._id&&""!==o._id){var e=localStorage.getItem("covWebItem"),t=localStorage.getItem(e);window.location="raygate://a910/printer?verificationId=".concat(o._id,"&token=").concat(t)}},e.abrupt("return",{verifyReturnData:o,mainVerifyResult:d,verifyQrcodeForUser:n,genQrcodeForUser:i,keepGetQrcodeInfo:c,printVerify:b});case 10:case"end":return e.stop()}}),e)})))()}};a("8da6");Q.render=k,Q.__scopeId="data-v-27b31024";var _=Q,A=a("11d3"),C={name:"Scan",components:{scanqrcode:s["a"],verifyqrcode:_},setup:function(){var e={initial:"scanqrcode",role:2};location.search.indexOf("print=true")>-1&&(e.initial="verifyqrcode");var t=Object(A["a"])(e);return Object(d["a"])({},t)}};a("d3e1");C.render=o,C.__scopeId="data-v-7d175a0a";t["default"]=C},"1fb1":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".scanContent[data-v-7d175a0a]{min-height:30vh;width:100%}@media only screen and (min-width:640px){.scanContent[data-v-7d175a0a]{width:90%}}@media only screen and (min-width:1400px){.scanContent[data-v-7d175a0a]{width:90%}}@keyframes Loading-7d175a0a{0%{stroke-dashoffset:0}75%{stroke-dashoffset:250}to{stroke-dashoffset:314}}@keyframes rotate-7d175a0a{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.boardloading[data-v-7d175a0a]{-webkit-animation:rotate-7d175a0a .6s linear infinite;animation:rotate-7d175a0a .6s linear infinite}.boardloading circle[data-v-7d175a0a]{-webkit-animation:Loading-7d175a0a 2.4s linear infinite;animation:Loading-7d175a0a 2.4s linear infinite}",""]),e.exports=t},"2c8a":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".qrcodepos[data-v-27b31024]{padding-left:50%}.qrcodepos div[data-v-27b31024]{transform:translateX(-50%)}.failinfo[data-v-27b31024]{border-radius:.25rem;--bg-opacity:1;background-color:#90cdf4;background-color:rgba(144,205,244,var(--bg-opacity));width:200px;height:200px}",""]),e.exports=t},"8da6":function(e,t,a){"use strict";a("c907")},c907:function(e,t,a){var r=a("2c8a");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("499e").default;n("7b3b5b4e",r,!0,{sourceMap:!1,shadowMode:!1})},d3e1:function(e,t,a){"use strict";a("ee5b")},ee5b:function(e,t,a){var r=a("1fb1");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("499e").default;n("9fd8e9ba",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=Scan.fb69d051.js.map