(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TestTypeDashBoard"],{"01407":function(e,t,r){var n=r("24fb");t=n(!1),t.push([e.i,".dashboardContent[data-v-49d0e7d0]{min-height:30vh;width:100%}@media only screen and (min-width:640px){.dashboardContent[data-v-49d0e7d0]{width:90%}}@media only screen and (min-width:1400px){.dashboardContent[data-v-49d0e7d0]{width:90%}}@keyframes Loading-49d0e7d0{0%{stroke-dashoffset:0}75%{stroke-dashoffset:250}to{stroke-dashoffset:314}}@keyframes rotate-49d0e7d0{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.boardloading[data-v-49d0e7d0]{-webkit-animation:rotate-49d0e7d0 .6s linear infinite;animation:rotate-49d0e7d0 .6s linear infinite}.boardloading circle[data-v-49d0e7d0]{-webkit-animation:Loading-49d0e7d0 2.4s linear infinite;animation:Loading-49d0e7d0 2.4s linear infinite}",""]),e.exports=t},"33ff":function(e,t,r){var n=r("9e36");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("7d4e1ee6",n,!0,{sourceMap:!1,shadowMode:!1})},"7c97":function(e,t,r){"use strict";r("33ff")},"9e36":function(e,t,r){var n=r("24fb");t=n(!1),t.push([e.i,"",""]),e.exports=t},bdcf:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r("99af"),r("4de4"),r("7db0"),r("4160"),r("d81d"),r("b0c0"),r("159b");var n=r("5530"),a=r("53ca"),c=(r("96cf"),r("1da1")),o=(r("d3b7"),r("af53")),s={getDocTypeList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("covWebItem"),r=localStorage.getItem(t),t&&r&&""!==t&&""!==r){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,n="".concat(o["a"].baseURL,"/api/v1/detect/type"),e.next=9,fetch(n,{method:"GET",headers:new Headers({Authorization:r,"Content-Type":"application/json"})});case 9:return a=e.sent,e.next=12,a.json();case 12:return c=e.sent,e.abrupt("return",c);case 16:return e.prev=16,e.t0=e["catch"](5),console.error("error : error"),e.abrupt("return",{success:!1});case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));function t(){return e.apply(this,arguments)}return t}(),deleteDocTypeList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,c,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("covWebItem"),n=localStorage.getItem(r),r&&n&&""!==r&&""!==n){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,a="".concat(o["a"].baseURL,"/api/v1/detect/type"),c={ids:t},e.next=10,fetch(a,{method:"DELETE",body:JSON.stringify(c),headers:new Headers({Authorization:n,"Content-Type":"application/json"})});case 10:return s=e.sent,e.next=13,s.json();case 13:return u=e.sent,e.abrupt("return",u);case 17:return e.prev=17,e.t0=e["catch"](5),console.error("error : error"),e.abrupt("return",{success:!1});case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));function t(t){return e.apply(this,arguments)}return t}(),createDocTypeList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,c,s,u,i,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.name,n=t.cctNo,a=t.testResult,c=localStorage.getItem("covWebItem"),s=localStorage.getItem(c),c&&s&&""!==c&&""!==s){e.next=6;break}return console.error("no Authorization"),e.abrupt("return");case 6:return e.prev=6,u="".concat(o["a"].baseURL,"/api/v1/detect/type"),i={name:r,cctNo:n,data:a},e.next=11,fetch(u,{method:"POST",body:JSON.stringify(i),headers:new Headers({Authorization:s,"Content-Type":"application/json"})});case 11:return d=e.sent,e.next=14,d.json();case 14:return l=e.sent,e.abrupt("return",l);case 18:return e.prev=18,e.t0=e["catch"](6),console.error("error : error"),e.abrupt("return",{success:!1});case 22:case"end":return e.stop()}}),e,null,[[6,18]])})));function t(t){return e.apply(this,arguments)}return t}(),updateDocTypeList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var n,a,c,s,u,i,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=r.cctNo,a=r.testResult,c=localStorage.getItem("covWebItem"),s=localStorage.getItem(c),c&&s&&""!==c&&""!==s){e.next=6;break}return console.error("no Authorization"),e.abrupt("return");case 6:return e.prev=6,u="".concat(o["a"].baseURL,"/api/v1/detect/type/").concat(t),i={cctNo:n,data:a},e.next=11,fetch(u,{method:"PUT",body:JSON.stringify(i),headers:new Headers({Authorization:s,"Content-Type":"application/json"})});case 11:return d=e.sent,e.next=14,d.json();case 14:return l=e.sent,e.abrupt("return",l);case 18:return e.prev=18,e.t0=e["catch"](6),console.error("error : error"),e.abrupt("return",{success:!1});case 22:case"end":return e.stop()}}),e,null,[[6,18]])})));function t(t,r){return e.apply(this,arguments)}return t}(),getDocTypeListOne:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("covWebItem"),n=localStorage.getItem(r),r&&n&&""!==r&&""!==n){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,a="".concat(o["a"].baseURL,"/api/v1/detect/type/").concat(t),e.next=9,fetch(a,{method:"GET",headers:new Headers({Authorization:n,"Content-Type":"application/json"})});case 9:return c=e.sent,e.next=12,c.json();case 12:return s=e.sent,e.abrupt("return",s);case 16:return e.prev=16,e.t0=e["catch"](5),console.error("error : error"),e.abrupt("return",{success:!1});case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));function t(t){return e.apply(this,arguments)}return t}()},u=r("f3ce"),i=r("7a23");function d(){var e=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.getDocTypeList();case 2:if(t=e.sent,t&&t.success){e.next=6;break}return console.error("getDocTypeList error"),e.abrupt("return",{success:!1});case 6:return r={},n=t.data.map((function(e){var t=new Date(e.createdAt),n=String(t.getMonth()+1),a=String(t.getDate()),c=t.getFullYear(),o=1===n.length?"0".concat(n):n,s=1===a.length?"0".concat(a):a,u="".concat(c,"-").concat(o,"-").concat(s);return e.data instanceof Array&&(r[e._id]=e.data),{id:e._id,"Test Type":e.name,"CCT No.":e.cctNo,"Create Time":u}})),u["a"].testResultDdl=r,u["a"].detectTypeMainList=n,e.abrupt("return",{success:!0});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(r){var n,a,c,o,u,i,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=r.name,a=r.cctNo,c=r.testResult,c instanceof Array){t.next=3;break}return t.abrupt("return",{success:!1});case 3:if(o=c.map((function(e){var t={};return e.forEach((function(e){t[e.title]=e.content})),t})),u=o.filter((function(e){return"string"!==typeof e.name||!e.name||"number"!==typeof e.type||"boolean"!==typeof e.status})),!(u.length>0)){t.next=7;break}return t.abrupt("return",{success:!1});case 7:return t.next=9,s.createDocTypeList({name:n,cctNo:a,testResult:o});case 9:if(i=t.sent,i&&i.success){t.next=13;break}return console.error("AddDetectType error"),t.abrupt("return",{success:!1});case 13:return t.next=15,e();case 15:return d=t.sent,l=d.success,t.abrupt("return",{success:l});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(r){var n,a,c,o,u,i,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=r.detectTypeId,a=r.cctNo,c=r.testResult,c instanceof Array){t.next=3;break}return t.abrupt("return",{success:!1});case 3:if(o=c.map((function(e){var t={};return e.forEach((function(e){t[e.title]=e.content})),t})),u=o.filter((function(e){return"string"!==typeof e.name||!e.name||"number"!==typeof e.type||"boolean"!==typeof e.status})),!(u.length>0)){t.next=7;break}return t.abrupt("return",{success:!1});case 7:return t.next=9,s.updateDocTypeList(n,{cctNo:a,testResult:o});case 9:if(i=t.sent,i&&i.success){t.next=13;break}return console.error("UpdateDetectType error"),t.abrupt("return",{success:!1});case 13:return t.next=15,e();case 15:return d=t.sent,l=d.success,t.abrupt("return",{success:l});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(r){var n,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.deleteDocTypeList(r);case 2:if(n=t.sent,n&&n.success){t.next=6;break}return console.error("DeleteDetectType error"),t.abrupt("return",{success:!1});case 6:return t.next=8,e();case 8:return a=t.sent,c=a.success,t.abrupt("return",{success:c});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,n,c,o,u,i,d,l,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.getDocTypeListOne(t);case 2:if(r=e.sent,r&&r.success){e.next=6;break}return console.error("getDocTypeListOne error"),e.abrupt("return",{success:!1});case 6:if(n=r.data,c=new Date(n.createdAt),o=String(c.getMonth()+1),u=String(c.getDate()),i=c.getFullYear(),d=1===o.length?"0".concat(o):o,l=1===u.length?"0".concat(u):u,p="".concat(i,"-").concat(d,"-").concat(l),f={id:n._id,"Test Type":n.name,"CCT No.":n.cctNo,"Create Time":p},"object"===Object(a["a"])(n.data)&&n.data){e.next=17;break}return e.abrupt("return",{success:!0,data:f});case 17:return f.ddlTestResult=n.data,e.abrupt("return",{success:!0,data:f});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=Object(i["z"])({}),p=function(e){var t=e.title,r=e.value,n=e.tagData;if(r&&""!==r){if("Test Type"===t){var a=u["a"].detectTypeMainList.find((function(e){return e["id"]===n.tagValue}));a||(l.value[n.tagName]=null),l.value[n.tagName]=a.id}if("Referred Doctor"===t){var c=n.tagName,o=n.tagValue,s=u["a"].doctorMainList.find((function(e){return e.id===o}));s&&(s["Doctor Email"],l.value[c]=s["Doctor Email"])}}else l.value[n.tagName]=null};return Object(n["a"])(Object(n["a"])({},Object(i["G"])(u["a"])),{},{getMainList:e,AddDetectType:t,UpdateDetectType:r,DeleteDetectType:o,getMainOne:d,tagRef:l,mainDdlChange:p})}},d7d1:function(e,t,r){"use strict";r("fb4c")},e592:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=Object(n["R"])("data-v-49d0e7d0");Object(n["x"])("data-v-49d0e7d0");var c={class:"dashboardContent mt-10 mx-auto px-8 py-12 sm:rounded sm:shadow-2xl sm:bg-white"},o=Object(n["i"])("div",{class:"flex items-center px-6 py-4"},[Object(n["i"])("div",null,[Object(n["i"])("svg",{class:"boardloading stroke-current text-green-600",width:"100",viewBox:"0 0 100 100"},[Object(n["i"])("circle",{cx:"50",cy:"50",r:"25","stroke-dasharray":"157","stroke-dashoffset":"0","stroke-linecap":"round","stroke-width":"10",fill:"transparent"})])]),Object(n["i"])("div",{class:"ml-10"},"loading...")],-1);Object(n["v"])();var s=a((function(e,t,r,s,u,i){var d=Object(n["B"])("detecttype");return Object(n["u"])(),Object(n["f"])("div",c,[(Object(n["u"])(),Object(n["f"])(n["b"],null,{default:a((function(){return[Object(n["i"])(d)]})),fallback:a((function(){return[o]})),_:1}))])})),u=Object(n["R"])("data-v-313e48b9"),i=u((function(e,t,r,a,c,o){var s=Object(n["B"])("dashboardtable"),u=Object(n["B"])("mainform");return Object(n["u"])(),Object(n["f"])("div",null,[""===e.boardTitle&&0===e.boardiData.length?Object(n["i"])(s,Object(n["n"])({key:0,addBtnName:"add detect type"},Object(n["F"])(a.dashboardEvent),{func:["update","delete","create"],iData:e.detectTypeMainList}),null,16,["iData"]):Object(n["g"])("",!0),""!==e.boardTitle&&e.boardiData.length>0?Object(n["i"])(u,Object(n["n"])({key:1,outputFortitle:!0,iData:e.boardiData,funcbtn:e.boardFunc,defaultValue:e.updateDefault},Object(n["F"])(a.mainFromEvent)),null,16,["iData","funcbtn","defaultValue"]):Object(n["g"])("",!0)])})),d=(r("4de4"),r("7db0"),r("d81d"),r("b64b"),r("5530")),l=(r("96cf"),r("1da1")),p=r("548e"),f=r("324d"),b=r("bdcf"),m={name:"detecttypetable",components:{dashboardtable:p["a"],mainform:f["a"]},setup:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t,r,a,c,o,s,u,i,p,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(b["a"])(),e.next=3,t.getMainList();case 3:if(r=e.sent,a=r.success,a){e.next=8;break}return console.error("getMainList : get data"),e.abrupt("return");case 8:return c=Object(n["y"])({boardTitle:"",boardiData:[],boardFunc:[],updateDefault:[]}),o=function(){c.boardTitle="",c.boardiData=[],c.boardFunc=[],c.updateDefault=[]},s=function(){c.boardTitle="add detecttype",c.boardiData=[{id:1,title:"Test Type",type:"text",margin:"small"},{id:3,title:"CCT No.",type:"text",margin:"small"},{id:4,title:"Test Result",type:"group",margin:"small",groupPattern:[{gid:1,title:"name",type:"text",margin:"small"},{gid:2,title:"type",type:"ddl",margin:"small",ddl:[{value:0,title:"normal"},{value:1,title:"abnormal"},{value:2,title:"N/A"}]},{gid:3,title:"status",type:"ddl",margin:"small",appendDefaultValue:!0,ddl:[{value:!0,title:"enable"},{value:!1,title:"disable"}]}]}],c.boardFunc=[{id:1,title:"cancel",style:"normal",emitname:"clear",needSendData:!1},{id:2,title:"add detect type",style:"info",emitname:"AddUser"}]},u=function(e){c.boardTitle="update detect type",c.boardiData=[{id:1,title:"detectTypeId",type:"label",label:e,margin:"small"},{id:3,title:"CCT No.",type:"text",margin:"small"},{id:4,title:"Test Result",type:"group",margin:"small",groupPattern:[{gid:1,title:"name",type:"text",margin:"small"},{gid:2,title:"type",type:"ddl",margin:"small",ddl:[{value:0,title:"normal"},{value:1,title:"abnormal"},{value:2,title:"N/A"}]},{gid:3,title:"status",type:"ddl",margin:"small",appendDefaultValue:!0,ddl:[{value:!0,title:"enable"},{value:!1,title:"disable"}]}]}],c.boardFunc=[{id:1,title:"cancel",style:"normal",emitname:"clear",needSendData:!1},{id:2,title:"update detect type",style:"info",emitname:"UpdateUser"}];var r=t.detectTypeMainList.value.find((function(t){return t.id===e})),n=t.testResultDdl.value[e];if(c.updateDefault=[{key:"CCT No.",value:r["CCT No."]}],n&&n.length>0){var a=n.map((function(e){return Object.keys(e).filter((function(e){return"_id"!==e})).sort().map((function(t){return{title:t,content:e[t]}}))}));c.updateDefault.push({key:"Test Result",value:a})}},i=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.AddDetectType({name:r["Test Type"],cctNo:r["CCT No."],testResult:r["Test Result"]});case 2:if(n=e.sent,a=n.success,a){e.next=7;break}return console.log("add detecttype fail"),e.abrupt("return");case 7:o();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.UpdateDetectType({detectTypeId:r["detectTypeId"],cctNo:r["CCT No."],testResult:r["Test Result"]});case 2:if(n=e.sent,a=n.success,a){e.next=7;break}return console.log("update user fail"),e.abrupt("return");case 7:o();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=Object(n["z"])({create:s,update:u,delete:t.DeleteDetectType}),m=Object(n["z"])({clear:o,AddUser:i,UpdateUser:p}),e.abrupt("return",Object(d["a"])(Object(d["a"])(Object(d["a"])({},t),Object(n["G"])(c)),{},{clearFrom:o,addDetectfunc:s,updateDetectFunc:u,addDataAction:i,updateDataAction:p,dashboardEvent:f,mainFromEvent:m}));case 17:case"end":return e.stop()}}),e)})))()}};r("7c97");m.render=i,m.__scopeId="data-v-313e48b9";var g=m,v={name:"admindashboard",components:{detecttype:g}};r("d7d1");v.render=s,v.__scopeId="data-v-49d0e7d0";t["default"]=v},fb4c:function(e,t,r){var n=r("01407");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("5c47821a",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=TestTypeDashBoard.4f1f3806.js.map