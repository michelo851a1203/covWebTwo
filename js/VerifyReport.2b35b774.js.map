{"version":3,"sources":["webpack:///./src/views/home/VerifyReport.vue?0c25","webpack:///./src/api/request/Verification.js","webpack:///./src/api/global/verifyResult.js","webpack:///./src/api/Verification.js","webpack:///./src/views/home/VerifyReport.vue?01bf","webpack:///./src/views/home/VerifyReport.vue","webpack:///./src/views/home/VerifyReport.vue?fd56","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/views/home/VerifyReport.vue?2eef"],"names":["getVerificationList","cluster","localStorage","getItem","token","console","error","url","config","baseURL","fetch","method","headers","Headers","response","json","VerificationListData","success","createVerification","credentialId","iData","body","JSON","stringify","verificationData","getVerifyQrcodeInfo","verificationQrcodeId","verifyQrcodeInfo","createVerifyQrcodeForUser","VerifyQrcodeForUserData","UserVerification","verificationId","userVerificationData","PrintVerification","printVerificationData","reactive","_id","definitionId","detectType","state","createdAt","updatedAt","policy","name","version","attributes","proof","Verification","tmpInterval","ref","currentVerifyStatus","title","status","verifyCredentialId","verifyQrcodeForUser","sendVerify","value","msg","VerificationModules","verData","data","group","log","groupEnd","verifyResult","mainThemeResult","computed","keys","Object","filter","item","oResult","forEach","proofAttribute","length","policyName","mainKey","closeVerifyAlert","normalVerifyAlert","setTimeout","genQrcodeForUser","keepGetQrcodeInfo","userScanQrcode","testResultDdl","selectName","Array","testResultObj","find","type","includes","onUnmounted","clearInterval","content","module","i","locals","exports","add","default","class","viewBox","stroke-width","stroke-linejoin","fill","points","stroke-linecap","x1","y1","x2","y2","colspan","key","backtoScan","setup","loginModule","Login","verificationModule","regainLoginUser","router","push","userData","role","reportRole","render","__scopeId","$","$find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","undefined","___CSS_LOADER_API_IMPORT___"],"mappings":"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","file":"js/VerifyReport.2b35b774.js","sourcesContent":["export { default } from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VerifyReport.vue?vue&type=style&index=0&id=037c2912&scoped=true&lang=postcss\"; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VerifyReport.vue?vue&type=style&index=0&id=037c2912&scoped=true&lang=postcss\"","import config from \"./config.js\"\n\nexport default {\n    // (postpone) 驗證者使用： 取得驗證列表\n    getVerificationList: async () => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n        try {\n            const url = `${config.baseURL}/api/v1/verification`\n            const response = await fetch(url, {\n                method: \"GET\",\n                headers: new Headers({\n                    \"Authorization\": token,\n                    \"Content-Type\": \"application/json\"\n                })\n            })\n            const VerificationListData = await response.json()\n\n            return VerificationListData\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    },\n    // 驗證者使用： 掃描 Qrcode 取得憑證 id， 進行驗證並返回驗證資訊\n    createVerification: async (credentialId) => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n        try {\n            const url = `${config.baseURL}/api/v1/verification`\n            const iData = {\n                credentialId\n            }\n            const response = await fetch(url, {\n                method: \"POST\",\n                body: JSON.stringify(iData),\n                headers: new Headers({\n                    \"Authorization\": token,\n                    \"Content-Type\": \"application/json\"\n                })\n            })\n            const verificationData = await response.json()\n            return verificationData\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    },\n    // 驗證者使用： 取得驗證 qrcode 目前的狀態資訊\n    // this method will get current info and keep request after genQrcode (setInterval)\n    getVerifyQrcodeInfo: async (verificationQrcodeId) => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n        try {\n            const url = `${config.baseURL}/api/v1/verification/qrcode?verificationQrcodeId=${verificationQrcodeId}`\n            const response = await fetch(url, {\n                method: \"GET\",\n                headers: new Headers({\n                    \"Authorization\": token,\n                    \"Content-Type\": \"application/json\"\n                })\n            })\n            const verifyQrcodeInfo = await response.json()\n            return verifyQrcodeInfo\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    },\n    // 驗證者使用： 產生驗證用 Qrcode 資訊，給使用者做掃描使用。\n    createVerifyQrcodeForUser: async () => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n        try {\n            const url = `${config.baseURL}/api/v1/verification/qrcode`\n            const response = await fetch(url, {\n                method: \"POST\",\n                headers: new Headers({\n                    \"Authorization\": token,\n                    \"Content-Type\": \"application/json\"\n                })\n            })\n            const VerifyQrcodeForUserData = await response.json()\n            return VerifyQrcodeForUserData\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    },\n    // 使者使用： 掃描 Qrcode 取得驗證 id， 發送驗證驗證資訊\n    UserVerification: async (verificationId) => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n        try {\n            const url = `${config.baseURL}/api/v1/wallet/verification`\n            const iData = {\n                verificationId\n            }\n            const response = await fetch(url, {\n                method: \"POST\",\n                body: JSON.stringify(iData),\n                headers: new Headers({\n                    \"Authorization\": token,\n                    \"Content-Type\": \"application/json\"\n                })\n            })\n            const userVerificationData = await response.json()\n            return userVerificationData\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    },\n    // 取得列印的驗證資料 (print) no need to use\n    PrintVerification: async (verificationId) => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n\n        try {\n            const url = `${config.baseURL}/api/v1/print/verification`\n            const iData = {\n                verificationId\n            }\n            const response = await fetch(url, {\n                method: \"GET\",\n                body: JSON.stringify(iData),\n                headers: new Headers({\n                    \"Authorization\": token,\n                    \"Content-Type\": \"application/json\"\n                })\n            })\n            const printVerificationData = await response.json()\n            return printVerificationData\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    }\n}","import { reactive } from \"vue\"\nexport default reactive({\n    _id: \"\",\n    verificationId: \"\",\n    definitionId: \"\",\n    detectType: {},\n    state: \"\",\n    createdAt: -1,\n    updatedAt: -1,\n    policy: {\n        name: \"\",\n        version: \"\",\n        attributes: [],\n    },\n    proof: {}\n})","\nimport VerificationModules from \"./request/Verification.js\"\nimport verifyResult from \"./global/verifyResult.js\"\nimport { ref, computed, onUnmounted } from \"vue\"\nexport default function Verification() {\n\n    const tmpInterval = ref(null)\n    const currentVerifyStatus = ref({\n        title: \"\",\n        status: \"\",\n    });\n\n    const verifyCredentialId = ref(\"\")\n    const verifyQrcodeForUser = ref(\"\")\n    const sendVerify = async () => {\n        if (verifyCredentialId.value === \"\") {\n            return {\n                success: false,\n                msg: \"Not Acquire CredentialId\",\n            }\n        }\n        currentVerifyStatus.value.title = \"Loading...\"\n        currentVerifyStatus.value.status = \"loading\"\n        const response = await VerificationModules.createVerification(verifyCredentialId.value)\n        if (!response || !response.success) {\n            console.error(\"createVerification error\");\n            return {\n                success: false,\n                msg: \"Request fail\",\n            }\n        }\n        const verData = response.data\n\n        console.group(`%c verData`, 'color:yellow');\n        console.log(verData);\n        console.groupEnd();\n        verifyResult._id = verData._id\n        verifyResult.verificationId = verData.verificationId\n        verifyResult.definitionId = verData.definitionId\n        verifyResult.detectType = verData.detectType\n        verifyResult.state = verData.state\n        verifyResult.createdAt = verData.createdAt\n        verifyResult.updatedAt = verData.updatedAt\n        verifyResult.policy = verData.policy\n        verifyResult.proof = verData.proof\n\n        return {\n            success: true,\n            msg: \"Success\",\n        }\n    }\n\n    const mainThemeResult = computed(() => {\n        const keys = Object.keys(verifyResult).filter(item => item !== \"policy\" && item !== \"proof\" && item !== \"detectType\")\n        const oResult = {}\n        keys.forEach(item => {\n            oResult[item] = verifyResult[item]\n        })\n        return oResult\n    })\n\n    const proofAttribute = computed(() => {\n        if (!verifyResult[\"policy\"]\n            || !verifyResult[\"policy\"].attributes\n            || !verifyResult[\"policy\"].attributes.length === 0\n            || !verifyResult[\"policy\"].attributes[0]\n            || !verifyResult[\"policy\"].attributes[0].policyName\n        ) {\n            return []\n        }\n        const mainKey = verifyResult[\"policy\"].attributes[0].policyName\n        return verifyResult[\"proof\"][mainKey].attributes\n    })\n\n    const closeVerifyAlert = () => {\n        currentVerifyStatus.value.title = \"\"\n        currentVerifyStatus.value.status = \"\"\n    }\n\n    const normalVerifyAlert = ({ title, status }) => {\n        currentVerifyStatus.value.title = title\n        currentVerifyStatus.value.status = status\n        setTimeout(() => {\n            currentVerifyStatus.value.title = \"\"\n            currentVerifyStatus.value.status = \"\"\n        }, 1500);\n    }\n\n    const genQrcodeForUser = async () => {\n        const response = await VerificationModules.createVerifyQrcodeForUser()\n        if (!response || !response.success) {\n            console.error(\"createVerification error\");\n            return {\n                success: false,\n                msg: \"Request fail\",\n            }\n        }\n        verifyQrcodeForUser.value = response.data.verificationId\n\n        return {\n            success: true,\n            msg: \"Success\",\n        }\n    }\n\n    const keepGetQrcodeInfo = async (verificationQrcodeId) => {\n        const response = await VerificationModules.getVerifyQrcodeInfo(verificationQrcodeId)\n        if (!response || !response.success) {\n            console.error(\"keepGetQrcodeInfo error\");\n            return {\n                success: false,\n                data: \"Request fail\",\n            }\n        }\n\n        return {\n            success: true,\n            data: response.data,\n        }\n    }\n\n    const userScanQrcode = async () => {\n        if (verifyCredentialId.value === \"\") {\n            return {\n                success: false,\n                msg: \"Not Acquire CredentialId\",\n            }\n        }\n        currentVerifyStatus.value.title = \"Loading...\"\n        currentVerifyStatus.value.status = \"loading\"\n        const response = await VerificationModules.UserVerification(verifyCredentialId.value)\n        if (!response || !response.success) {\n            console.error(\"userScanQrcode error\");\n            return {\n                success: false,\n                msg: \"Request fail\",\n            }\n        }\n        return {\n            success: true,\n        }\n    }\n\n    const testResultDdl = (selectName) => {\n        if (typeof verifyResult.detectType !== \"object\" || !verifyResult.detectType) return null\n        if (!verifyResult.detectType.data || !(verifyResult.detectType.data instanceof Array)) return null\n        if (verifyResult.detectType.data.length === 0) return null\n        const testResultObj = verifyResult.detectType.data.find(item => item.name === selectName)\n\n        if (((typeof testResultObj.type) !== \"number\" && !testResultObj.type) || ![0, 1, 2].includes(testResultObj.type)) return null\n        return testResultObj.type\n    }\n\n    onUnmounted(() => {\n        if (tmpInterval.value) {\n            clearInterval(tmpInterval.value)\n            tmpInterval.value = null\n        }\n    })\n\n    return { tmpInterval, verifyResult, mainThemeResult, proofAttribute, currentVerifyStatus, verifyCredentialId, verifyQrcodeForUser, sendVerify, closeVerifyAlert, normalVerifyAlert, genQrcodeForUser, keepGetQrcodeInfo, userScanQrcode, testResultDdl }\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VerifyReport.vue?vue&type=style&index=0&id=037c2912&scoped=true&lang=postcss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"19a02a5c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<template>\n  <div\n    class=\"verifyContent py-12 sm:mt-12 sm:shadow-2xl sm:rounded mx-auto sm:bg-white\"\n  >\n    <div\n      v-if=\"([0, 1, 2].includes(testResultDdl(proofAttribute['Test Result'])))\"\n      class=\"flex items-center justify-center mb-12\"\n    >\n      <div>\n        <h2 class=\"text-xl font-bold\">Test Result</h2>\n        <!-- 1 is abnormal -->\n        <p\n          v-if=\"testResultDdl(proofAttribute['Test Result']) === 0\"\n          class=\"text-lg text-green-600 font-bold\"\n        >\n          NEGATIVE\n          <br />Vaild\n        </p>\n        <p\n          v-else-if=\"testResultDdl(proofAttribute['Test Result']) === 1\"\n          class=\"text-lg text-red-600 font-bold\"\n        >\n          POSITIVE\n          <br />Outdate\n        </p>\n        <p v-else class=\"text-lg text-red-600 font-bold\">N/A</p>\n      </div>\n      <div class=\"ml-12 sm:ml-20\">\n        <svg\n          v-if=\"testResultDdl(proofAttribute['Test Result']) === 0\"\n          viewBox=\"0 0 100 100\"\n          class=\"w-16 stroke-current text-green-600\"\n        >\n          <polyline\n            stroke-width=\"6\"\n            stroke-linejoin=\"round\"\n            fill=\"transparent\"\n            points=\"10,10 90,10 90,90 10,90 10,10\"\n          />\n          <polyline\n            points=\"25,50 40,75 75,25\"\n            stroke-width=\"6\"\n            stroke-linejoin=\"round\"\n            stroke-linecap=\"round\"\n            fill=\"transparent\"\n          />\n        </svg>\n        <svg\n          v-else\n          viewBox=\"0 0 100 100\"\n          class=\"w-16 stroke-current text-red-600\"\n        >\n          <polyline\n            stroke-width=\"6\"\n            stroke-linejoin=\"round\"\n            fill=\"transparent\"\n            points=\"10,10 90,10 90,90 10,90 10,10\"\n          />\n          <line\n            stroke-width=\"6\"\n            stroke-linecap=\"round\"\n            x1=\"30\"\n            y1=\"30\"\n            x2=\"70\"\n            y2=\"70\"\n          />\n          <line\n            stroke-width=\"6\"\n            stroke-linecap=\"round\"\n            x1=\"30\"\n            y1=\"70\"\n            x2=\"70\"\n            y2=\"30\"\n          />\n        </svg>\n      </div>\n    </div>\n    <section class=\"flex items-center justify-around\">\n      <div class=\"py-2\">\n        <table class=\"text-sm\">\n          <tr v-for=\"item in Object.keys(mainThemeResult)\" :key=\"item\">\n            <th class=\"border text-left px-3 py-1\">{{ item }}</th>\n            <td class=\"border text-left text-blue-400 px-3 py-1\">\n              {{ verifyResult[item] }}\n            </td>\n          </tr>\n          <tr v-if=\"Object.keys(proofAttribute).length > 0\">\n            <th colspan=\"2\" class=\"px-3 py-1 text-center border\">attributes</th>\n          </tr>\n          <tr v-for=\"item in Object.keys(proofAttribute)\" :key=\"item\">\n            <th class=\"text-left px-3 py-1 border\">{{ item }}</th>\n            <td class=\"text-left text-blue-400 px-3 py-1 border\">\n              {{ proofAttribute[item] }}\n            </td>\n          </tr>\n        </table>\n      </div>\n    </section>\n    <section class=\"mt-10 w-full mb-2 flex justify-around\">\n      <button\n        @click=\"backtoScan\"\n        class=\"w-1/3 bg-gray-700 focus:outline-none hover:bg-gray-900 text-white font-medium py-2 px-4 rounded\"\n      >\n        Back\n      </button>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport Login from \"@/api/Login.js\";\nimport Verification from \"@/api/Verification.js\";\nimport router from \"@/router\";\nexport default {\n  name: \"report\",\n  setup() {\n    const loginModule = Login();\n    const verificationModule = Verification();\n    if (!loginModule.regainLoginUser()) {\n      router.push({\n        name: \"signIn\",\n      });\n    }\n    if (loginModule.userData.role === -1) {\n      console.error(\"login in success but not get role\");\n    }\n\n    if (verificationModule.verifyResult._id === \"\") {\n      router.push(\"/scan\");\n    }\n\n    if (Object.keys(verificationModule.verifyResult.proof).length === 0) {\n      router.push(\"/scan\");\n    }\n\n    const reportRole = ref(-1);\n    reportRole.value = loginModule.userData.role;\n    if (reportRole.value !== 2) {\n      router.push({\n        name: \"signIn\",\n      });\n    }\n\n    const backtoScan = () => {\n      router.push(\"/scan\");\n    };\n    return { ...verificationModule, backtoScan, reportRole };\n  },\n};\n</script>\n\n<style scoped lang=\"postcss\">\n.verifyContent {\n  min-height: 30vh;\n  width: 100%;\n}\n\n@media only screen and (min-width: theme(screens.sm)) {\n  .verifyContent {\n    width: 50%;\n  }\n}\n@media only screen and (min-width: theme(screens.ultra)) {\n  .verifyContent {\n    width: 40%;\n  }\n}\n</style>\n\n","import { render } from \"./VerifyReport.vue?vue&type=template&id=037c2912&scoped=true&bindings={\\\"backtoScan\\\":\\\"setup\\\",\\\"reportRole\\\":\\\"setup\\\"}\"\nimport script from \"./VerifyReport.vue?vue&type=script&lang=js\"\nexport * from \"./VerifyReport.vue?vue&type=script&lang=js\"\n\nimport \"./VerifyReport.vue?vue&type=style&index=0&id=037c2912&scoped=true&lang=postcss\"\nscript.render = render\nscript.__scopeId = \"data-v-037c2912\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".verifyContent[data-v-037c2912]{min-height:30vh;width:100%}@media only screen and (min-width:640px){.verifyContent[data-v-037c2912]{width:50%}}@media only screen and (min-width:1400px){.verifyContent[data-v-037c2912]{width:40%}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}