(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["VerifyReport"],{"31fe":function(e,t,r){"use strict";r("4c6c")},"3d0d":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("4de4"),r("7db0"),r("4160"),r("caad"),r("b0c0"),r("b64b"),r("159b");var n=r("53ca"),a=(r("96cf"),r("1da1")),c=(r("99af"),r("d3b7"),r("af53")),o={getVerificationList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("covWebItem"),r=localStorage.getItem(t),t&&r&&""!==t&&""!==r){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,n="".concat(c["a"].baseURL,"/api/v1/verification"),e.next=9,fetch(n,{method:"GET",headers:new Headers({Authorization:r,"Content-Type":"application/json"})});case 9:return a=e.sent,e.next=12,a.json();case 12:return o=e.sent,e.abrupt("return",o);case 16:return e.prev=16,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));function t(){return e.apply(this,arguments)}return t}(),createVerification:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("covWebItem"),n=localStorage.getItem(r),r&&n&&""!==r&&""!==n){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,a="".concat(c["a"].baseURL,"/api/v1/verification"),o={credentialId:t},e.next=10,fetch(a,{method:"POST",body:JSON.stringify(o),headers:new Headers({Authorization:n,"Content-Type":"application/json"})});case 10:return u=e.sent,e.next=13,u.json();case 13:return i=e.sent,e.abrupt("return",i);case 17:return e.prev=17,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));function t(t){return e.apply(this,arguments)}return t}(),getVerifyQrcodeInfo:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("covWebItem"),n=localStorage.getItem(r),r&&n&&""!==r&&""!==n){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,a="".concat(c["a"].baseURL,"/api/v1/verification/qrcode?verificationQrcodeId=").concat(t),e.next=9,fetch(a,{method:"GET",headers:new Headers({Authorization:n,"Content-Type":"application/json"})});case 9:return o=e.sent,e.next=12,o.json();case 12:return u=e.sent,e.abrupt("return",u);case 16:return e.prev=16,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));function t(t){return e.apply(this,arguments)}return t}(),createVerifyQrcodeForUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("covWebItem"),r=localStorage.getItem(t),t&&r&&""!==t&&""!==r){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,n="".concat(c["a"].baseURL,"/api/v1/verification/qrcode"),e.next=9,fetch(n,{method:"POST",headers:new Headers({Authorization:r,"Content-Type":"application/json"})});case 9:return a=e.sent,e.next=12,a.json();case 12:return o=e.sent,e.abrupt("return",o);case 16:return e.prev=16,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));function t(){return e.apply(this,arguments)}return t}(),UserVerification:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("covWebItem"),n=localStorage.getItem(r),r&&n&&""!==r&&""!==n){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,a="".concat(c["a"].baseURL,"/api/v1/wallet/verification"),o={verificationId:t},e.next=10,fetch(a,{method:"POST",body:JSON.stringify(o),headers:new Headers({Authorization:n,"Content-Type":"application/json"})});case 10:return u=e.sent,e.next=13,u.json();case 13:return i=e.sent,e.abrupt("return",i);case 17:return e.prev=17,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));function t(t){return e.apply(this,arguments)}return t}(),PrintVerification:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,u,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("covWebItem"),n=localStorage.getItem(r),r&&n&&""!==r&&""!==n){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,a="".concat(c["a"].baseURL,"/api/v1/print/verification"),o={verificationId:t},e.next=10,fetch(a,{method:"GET",body:JSON.stringify(o),headers:new Headers({Authorization:n,"Content-Type":"application/json"})});case 10:return u=e.sent,e.next=13,u.json();case 13:return i=e.sent,e.abrupt("return",i);case 17:return e.prev=17,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));function t(t){return e.apply(this,arguments)}return t}()},u=r("7a23"),i=Object(u["y"])({_id:"",verificationId:"",definitionId:"",detectType:{},state:"",createdAt:-1,updatedAt:-1,policy:{name:"",version:"",attributes:[]},proof:{}});function s(){var e=Object(u["z"])(null),t=Object(u["z"])({title:"",status:""}),r=Object(u["z"])(""),c=Object(u["z"])(""),s=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==r.value){e.next=2;break}return e.abrupt("return",{success:!1,msg:"Not Acquire CredentialId"});case 2:return t.value.title="Loading...",t.value.status="loading",e.next=6,o.createVerification(r.value);case 6:if(n=e.sent,n&&n.success){e.next=10;break}return console.error("createVerification error"),e.abrupt("return",{success:!1,msg:"Request fail"});case 10:return a=n.data,console.group("%c verData","color:yellow"),console.log(a),console.groupEnd(),i._id=a._id,i.verificationId=a.verificationId,i.definitionId=a.definitionId,i.detectType=a.detectType,i.state=a.state,i.createdAt=a.createdAt,i.updatedAt=a.updatedAt,i.policy=a.policy,i.proof=a.proof,e.abrupt("return",{success:!0,msg:"Success"});case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=Object(u["d"])((function(){var e=Object.keys(i).filter((function(e){return"policy"!==e&&"proof"!==e&&"detectType"!==e})),t={};return e.forEach((function(e){t[e]=i[e]})),t})),p=Object(u["d"])((function(){if(!i["policy"]||!i["policy"].attributes||0===!i["policy"].attributes.length||!i["policy"].attributes[0]||!i["policy"].attributes[0].policyName)return[];var e=i["policy"].attributes[0].policyName;return i["proof"][e].attributes})),f=function(){t.value.title="",t.value.status=""},b=function(e){var r=e.title,n=e.status;t.value.title=r,t.value.status=n,setTimeout((function(){t.value.title="",t.value.status=""}),1500)},d=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.createVerifyQrcodeForUser();case 2:if(t=e.sent,t&&t.success){e.next=6;break}return console.error("createVerification error"),e.abrupt("return",{success:!1,msg:"Request fail"});case 6:return c.value=t.data.verificationId,e.abrupt("return",{success:!0,msg:"Success"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.getVerifyQrcodeInfo(t);case 2:if(r=e.sent,r&&r.success){e.next=6;break}return console.error("keepGetQrcodeInfo error"),e.abrupt("return",{success:!1,data:"Request fail"});case 6:return e.abrupt("return",{success:!0,data:r.data});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==r.value){e.next=2;break}return e.abrupt("return",{success:!1,msg:"Not Acquire CredentialId"});case 2:return t.value.title="Loading...",t.value.status="loading",e.next=6,o.UserVerification(r.value);case 6:if(n=e.sent,n&&n.success){e.next=10;break}return console.error("userScanQrcode error"),e.abrupt("return",{success:!1,msg:"Request fail"});case 10:return e.abrupt("return",{success:!0});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e){if("object"!==Object(n["a"])(i.detectType)||!i.detectType)return null;if(!i.detectType.data||!(i.detectType.data instanceof Array))return null;if(0===i.detectType.data.length)return null;var t=i.detectType.data.find((function(t){return t.name===e}));return"number"!==typeof t.type&&!t.type||![0,1,2].includes(t.type)?null:t.type};return Object(u["s"])((function(){e.value&&(clearInterval(e.value),e.value=null)})),{tmpInterval:e,verifyResult:i,mainThemeResult:l,proofAttribute:p,currentVerifyStatus:t,verifyCredentialId:r,verifyQrcodeForUser:c,sendVerify:s,closeVerifyAlert:f,normalVerifyAlert:b,genQrcodeForUser:d,keepGetQrcodeInfo:v,userScanQrcode:y,testResultDdl:h}}},"4c6c":function(e,t,r){var n=r("b140");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("19a02a5c",n,!0,{sourceMap:!1,shadowMode:!1})},6135:function(e,t,r){"use strict";r.r(t);r("caad"),r("b64b");var n=r("7a23"),a=Object(n["R"])("data-v-037c2912");Object(n["x"])("data-v-037c2912");var c={class:"verifyContent py-12 sm:mt-12 sm:shadow-2xl sm:rounded mx-auto sm:bg-white"},o={key:0,class:"flex items-center justify-center mb-12"},u=Object(n["i"])("h2",{class:"text-xl font-bold"},"Test Result",-1),i={key:0,class:"text-lg text-green-600 font-bold"},s=Object(n["h"])(" NEGATIVE "),l=Object(n["i"])("br",null,null,-1),p=Object(n["h"])("Vaild "),f={key:1,class:"text-lg text-red-600 font-bold"},b=Object(n["h"])(" POSITIVE "),d=Object(n["i"])("br",null,null,-1),v=Object(n["h"])("Outdate "),y={key:2,class:"text-lg text-red-600 font-bold"},h={class:"ml-12 sm:ml-20"},j={key:0,viewBox:"0 0 100 100",class:"w-16 stroke-current text-green-600"},m=Object(n["i"])("polyline",{"stroke-width":"6","stroke-linejoin":"round",fill:"transparent",points:"10,10 90,10 90,90 10,90 10,10"},null,-1),O=Object(n["i"])("polyline",{points:"25,50 40,75 75,25","stroke-width":"6","stroke-linejoin":"round","stroke-linecap":"round",fill:"transparent"},null,-1),g={key:1,viewBox:"0 0 100 100",class:"w-16 stroke-current text-red-600"},x=Object(n["i"])("polyline",{"stroke-width":"6","stroke-linejoin":"round",fill:"transparent",points:"10,10 90,10 90,90 10,90 10,10"},null,-1),w=Object(n["i"])("line",{"stroke-width":"6","stroke-linecap":"round",x1:"30",y1:"30",x2:"70",y2:"70"},null,-1),k=Object(n["i"])("line",{"stroke-width":"6","stroke-linecap":"round",x1:"30",y1:"70",x2:"70",y2:"30"},null,-1),R={class:"flex items-center justify-around"},I={class:"py-2"},A={class:"text-sm"},T={class:"border text-left px-3 py-1"},S={class:"border text-left text-blue-400 px-3 py-1"},V={key:0},z=Object(n["i"])("th",{colspan:"2",class:"px-3 py-1 text-center border"},"attributes",-1),C={class:"text-left px-3 py-1 border"},U={class:"text-left text-blue-400 px-3 py-1 border"},E={class:"mt-10 w-full mb-2 flex justify-around"};Object(n["v"])();var Q=a((function(e,t,r,a,Q,L){return Object(n["u"])(),Object(n["f"])("div",c,[[0,1,2].includes(e.testResultDdl(e.proofAttribute["Test Result"]))?(Object(n["u"])(),Object(n["f"])("div",o,[Object(n["i"])("div",null,[u,0===e.testResultDdl(e.proofAttribute["Test Result"])?(Object(n["u"])(),Object(n["f"])("p",i,[s,l,p])):1===e.testResultDdl(e.proofAttribute["Test Result"])?(Object(n["u"])(),Object(n["f"])("p",f,[b,d,v])):(Object(n["u"])(),Object(n["f"])("p",y,"N/A"))]),Object(n["i"])("div",h,[0===e.testResultDdl(e.proofAttribute["Test Result"])?(Object(n["u"])(),Object(n["f"])("svg",j,[m,O])):(Object(n["u"])(),Object(n["f"])("svg",g,[x,w,k]))])])):Object(n["g"])("",!0),Object(n["i"])("section",R,[Object(n["i"])("div",I,[Object(n["i"])("table",A,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["A"])(Object.keys(e.mainThemeResult),(function(t){return Object(n["u"])(),Object(n["f"])("tr",{key:t},[Object(n["i"])("th",T,Object(n["E"])(t),1),Object(n["i"])("td",S,Object(n["E"])(e.verifyResult[t]),1)])})),128)),Object.keys(e.proofAttribute).length>0?(Object(n["u"])(),Object(n["f"])("tr",V,[z])):Object(n["g"])("",!0),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["A"])(Object.keys(e.proofAttribute),(function(t){return Object(n["u"])(),Object(n["f"])("tr",{key:t},[Object(n["i"])("th",C,Object(n["E"])(t),1),Object(n["i"])("td",U,Object(n["E"])(e.proofAttribute[t]),1)])})),128))])])]),Object(n["i"])("section",E,[Object(n["i"])("button",{onClick:t[1]||(t[1]=function(){return a.backtoScan.apply(a,arguments)}),class:"w-1/3 bg-gray-700 focus:outline-none hover:bg-gray-900 text-white font-medium py-2 px-4 rounded"}," Back ")])])})),L=r("5530"),N=r("b0af"),q=r("3d0d"),D=r("a18c"),G={name:"report",setup:function(){var e=Object(N["a"])(),t=Object(q["a"])();e.regainLoginUser()||D["a"].push({name:"signIn"}),-1===e.userData.role&&console.error("login in success but not get role"),""===t.verifyResult._id&&D["a"].push("/scan"),0===Object.keys(t.verifyResult.proof).length&&D["a"].push("/scan");var r=Object(n["z"])(-1);r.value=e.userData.role,2!==r.value&&D["a"].push({name:"signIn"});var a=function(){D["a"].push("/scan")};return Object(L["a"])(Object(L["a"])({},t),{},{backtoScan:a,reportRole:r})}};r("31fe");G.render=Q,G.__scopeId="data-v-037c2912";t["default"]=G},"7db0":function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").find,c=r("44d2"),o=r("ae40"),u="find",i=!0,s=o(u);u in[]&&Array(1)[u]((function(){i=!1})),n({target:"Array",proto:!0,forced:i||!s},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),c(u)},b140:function(e,t,r){var n=r("24fb");t=n(!1),t.push([e.i,".verifyContent[data-v-037c2912]{min-height:30vh;width:100%}@media only screen and (min-width:640px){.verifyContent[data-v-037c2912]{width:50%}}@media only screen and (min-width:1400px){.verifyContent[data-v-037c2912]{width:40%}}",""]),e.exports=t}}]);
//# sourceMappingURL=VerifyReport.2b35b774.js.map